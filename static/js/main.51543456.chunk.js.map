{"version":3,"sources":["taurus2.jpg","spell.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","color","bard","cleric","druid","paladin","ranger","sorcerer","warlock","wizard","gradientize","casters","gradient","position","step","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","caster","value","err","return","StyledAdditionalCaster","styled","props","react_default","a","createElement","className","_templateObject","CasterLabel","span","_templateObject2","SpellTooltip","map","key","this","name","level","renderCasterLabels","additionalCasters","React","Component","StyledSpellTooltip","_templateObject3","Spell","_React$Component2","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","additionalCastersShown","additionalCaster","_this","StyledSpell","assign","onClick","renderAdditionalCasters","SpellLevel","selected","StyledSpellFallback","div","attrs","style","background","highlightColors","_templateObject4","hasOpacity","gridColumnStart","coordinates","gridRowStart","_templateObject5","_templateObject6","EditModeMessage","App_templateObject","ConicGradientMessage","App_templateObject2","CopyrightMessage","App_templateObject3","HighlightLabel","App_templateObject4","StyledButton","href","label","App_templateObject5","filled","lighten","swap","spells","i1","i2","spell","index","_objectSpread","App_templateObject6","Wrapper","_templateObject7","Header","header","_templateObject8","BoardWrapper","_templateObject9","Board","_templateObject10","Aside","aside","_templateObject11","Logo","_templateObject12","ColumnBreakerH2","h2","_templateObject13","App","call","state","selectedId","highlightedCasters","editMode","timeSinceLastSave","currentKey","Spells","_this2","timerID","setInterval","tick","clearInterval","setState","handleSave","console","log","jsonData","fileData","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","link","document","download","click","includes","filter","hcaster","newCasters","push","i","_this$state","Number","_this3","_this4","_this5","Fragment","renderEditUi","handleHighlightClick","spell_Spell","id","getHighlightColors","handleClick","src","avatar","Boolean","window","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.51543456.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/taurus2.31f30c0f.jpg\";","import React from 'react';\nimport styled from 'styled-components';\n\nexport const color = {\n    bard: '#E052E0',\n    cleric: '#EB4747',\n    druid: '#60DF20',\n    paladin: '#F5D63D',\n    ranger: '#2EA02E',\n    sorcerer: '#F2800D',\n    warlock: '#A852FF',\n    wizard: '#4C88FF'\n}\n\nfunction gradientize(casters) {\n    let gradient = '';\n    let position = 0;\n    let step = 100/casters.length;\n    for (let caster of casters) {\n        if (position) {\n            gradient += ', ';\n        }\n        gradient += color[caster] + ' ' + position + '% ' + (position += step) + '%';\n    }\n    return gradient;\n}\n\nfunction AdditionalCaster(props) {\n\n    return (\n        <div className={props.className}></div>\n    );\n}\n\nconst StyledAdditionalCaster = styled(AdditionalCaster)`\n    position: absolute;\n    width: 25%;\n    height: 25%;\n    border-radius: 50%;\n    box-shadow: 0 0 0 0.15em #222;\n    background-color: ${props => color[props.caster]};\n\n    @media screen and (min-width: 1920px) {\n        width: 25%;\n        height: 25%;\n        box-shadow: 0 0 0 0.15vw #222;\n    }\n\n    :first-of-type {\n        top: 0;\n        left: 0;\n    }\n\n    :nth-of-type(2) {\n        top: 0;\n        right: 0;\n    }\n`;\n\nexport const CasterLabel = styled.span`\n    color: ${props => color[props.caster]};\n    text-transform: capitalize;\n\n    :not(:last-of-type) {\n        :after {\n            content: ', ';\n        }\n    }\n`;\n\nclass SpellTooltip extends React.Component {\n\n    renderCasterLabels(casters) {\n\n        return casters.map(caster => <CasterLabel key={caster} caster={caster}>{caster}</CasterLabel>);\n    }\n\n    render() {\n\n        return(\n            <div className={this.props.className}>\n                <h3>{this.props.name}</h3>\n                <h4>{this.props.level ? 'LEVEL ' + this.props.level : 'CANTRIP'}</h4>\n                <p>{this.renderCasterLabels(this.props.casters)}{this.props.additionalCasters.length > 0 ? ' and subclasses of ' : ''}{this.renderCasterLabels(this.props.additionalCasters)}</p>\n            </div>\n        );\n    }\n}\n\nconst StyledSpellTooltip = styled(SpellTooltip)`\n    opacity: 0;\n    visibility: hidden;\n    display: block;\n    position: absolute;\n    min-width: 10em;\n    top: 115%;\n    left: 50%;\n    transform: translateX(-50%) translateY(10px);\n    background-color: #111;\n    color: #aaa;\n    font-size: 0.75em;\n    line-height: 1.3;\n    padding: 0.75em;\n    border-radius: 0.5em;\n    transition: box-shadow 0.2s, opacity 0.2s, transform 0.2s;\n    box-shadow: 0 0 1em 0 rgba(0,0,0,0.5);\n    z-index: 2;\n\n    :before {\n        content: '';\n        position: absolute;\n        left: calc(50% - 0.5em);\n        top: -0.5em;\n        width: 0;\n        height: 0;\n        border-style: solid;\n        border-width: 0 0.5em 0.5em 0.5em;\n        border-color: transparent transparent #111 transparent;\n    }\n\n    h3, h4, p {\n        margin: 0;\n    }\n\n    h3 {\n        color: #fff;\n        text-transform: uppercase;\n        white-space: nowrap;\n    }\n\n    h4 {\n        border-bottom: 1px solid #333;\n        padding-bottom: 0.5em;\n        margin-bottom: 0.5em;\n    }\n\n    p {\n        font-family: 'Merriweather', serif;\n        line-height: 1.5;\n        text-align: left;\n    }\n`;\n\n/*const renderAdditionalCasters = additionalCasters => additionalCasters ?\n    additionalCasters.map(additionalCaster => <StyledAdditionalCaster key={additionalCaster} caster={additionalCaster}/>) :\n    '';*/\n\nexport class Spell extends React.Component {\n\n    renderAdditionalCasters() {\n\n        return this.props.additionalCastersShown.map(additionalCaster => <StyledAdditionalCaster key={additionalCaster} caster={additionalCaster}/>);\n    }\n\n    render() {\n\n        return(\n            <StyledSpell {...this.props} className={this.props.className} onClick={() => this.props.onClick()}>\n                {this.renderAdditionalCasters(this.props.additionalCastersShown)}\n                <SpellLevel></SpellLevel>\n                <StyledSpellTooltip name={this.props.name} level={this.props.level} casters={this.props.casters} additionalCasters={this.props.additionalCasters} selected={this.props.selected} />\n                <StyledSpellFallback {...this.props} />\n            </StyledSpell>\n        );\n    }\n}\n\nconst StyledSpellFallback = styled.div.attrs({\n    style: props => ({\n        background: props.highlightColors.length\n            ? 'linear-gradient(' + gradientize(props.highlightColors) + ')'\n            : 'linear-gradient(' + gradientize(props.casters) + ')'\n    })\n})`\n    @supports (background: conic-gradient(rgb(76, 136, 255) 0%, rgb(76, 136, 255) 100%)) {\n        display: none;\n    }\n\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    border-radius: 100%;\n    ${props => (props.hasOpacity || props.highlightColors.length || props.selected) ? '' : 'opacity: 0.25;'}\n    transition: box-shadow 0.2s, opacity 0.2s;\n    cursor: pointer;\n    z-index: -2;\n`;\n\nexport const StyledSpell = styled.div.attrs({\n    style: props => ({\n        background: props.highlightColors.length\n            ? 'conic-gradient(' + gradientize(props.highlightColors) + ')'\n            : 'conic-gradient(' + gradientize(props.casters) + ')',\n        gridColumnStart: props.coordinates[0],\n        gridRowStart: props.coordinates[1]\n    })\n})`\n    width: 100%;\n    padding-top: 100%;\n    border-radius: 50%;\n    position: relative;\n    ${props => props.selected ? 'box-shadow: 0 0 0 0.1em #fff;' : ''}\n    ${props => props.selected ? 'z-index: 2;' : ''}\n    ${props => (props.hasOpacity || props.highlightColors.length || props.selected) ? '' : 'opacity: 0.25;'}\n    transition: box-shadow 0.2s, opacity 0.2s;\n    cursor: pointer;\n\n    @media screen and (min-width: 1920px) {\n        ${props => props.selected ? 'box-shadow: 0 0 0 0.5vh #fff;' : ''}\n    }\n\n    :hover {\n        ${props => props.selected ? 'box-shadow: 0 0 0 0.2em #fff;' : 'box-shadow: 0 0 0 0.25vh #222, 0 0 0 0.5vh #fff;'}\n        opacity: 1;\n        z-index: 2;\n\n        ${StyledSpellTooltip} {\n            opacity: 1;\n            visibility: visible;\n            transform: translateX(-50%) translateY(0);\n        }\n    }\n`;\n\nconst SpellLevel = styled.div`\n    position: absolute;\n    top: calc(50% - 0.75vw);\n    left: 0;\n    right: 0;\n    font-size: 1.5vw;\n    line-height: 1.5vw;\n    text-align: center;\n    color: #222;\n\n    @media only screen and (min-width: 1280px) {\n        top: calc(50% - 0.75 * 12.8px);\n        font-size: calc(1.5 * 12.8px);\n        line-height: calc(1.5 * 12.8px);\n    }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\n\nimport { color, Spell, CasterLabel } from './spell';\nimport Spells from './spells';\nimport avatar from './taurus2.jpg';\n\nconst casters = [\n    'bard',\n    'cleric',\n    'druid',\n    'paladin',\n    'ranger',\n    'sorcerer',\n    'warlock',\n    'wizard'\n]\n\nconst EditModeMessage = styled.div`\n    background-color: ${color.paladin};\n    color: #222;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-radius: 0.75em;\n    font-family: 'Lato', sans-serif;\n    padding: 1em;\n    margin: 1em 0;\n\n    p {\n        color: #222;\n        margin: 0 0 1em 0;\n    }\n`;\n\nconst ConicGradientMessage = styled.div`\n    @supports (background: conic-gradient(rgb(76, 136, 255) 0%, rgb(76, 136, 255) 100%)) {\n        display: none;\n    }\n    background-color: ${color.paladin};\n    color: #222;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-radius: 0.75em;\n    font-family: 'Lato', sans-serif;\n    padding: 1em;\n    margin: 1em 0;\n`;\n\nconst CopyrightMessage = styled.p`\n    color: #666;\n    column-span: all;\n    font-size: 0.75em;\n`;\n\nconst HighlightLabel = styled.span`\n    margin-right: 0.5em;\n    color: #aaa;\n    text-transform: uppercase;\n`;\n\nfunction Button(props) {\n\n    return <button className={props.className} href=\"#\" onClick={() => props.onClick()}>{props.label}</button>\n}\n\nconst StyledButton = styled(Button)`\n    border: 1px solid ${props => props.color ? props.color : '#ccc'};\n    border-radius: 0.75rem;\n    background: ${props => props.filled\n        ? props.color\n            ? props.color\n            : '#ccc'\n        : '#222' };\n    color: ${props => props.filled\n        ? '#222'\n        : props.color\n            ? props.color\n            : '#ccc'};\n    font-family: 'Lato', sans-serif;\n    font-size: 1em;\n    line-height: 1.3;\n    white-space: nowrap;\n    text-decoration: none;\n    text-transform: uppercase;\n    padding: 0.75em 1em;\n    margin: 0.5em;\n    cursor: pointer;\n    outline: none;\n\n    :hover {\n        border: 1px solid ${props => props.filled\n        ? '#222'\n        : props.color\n            ? lighten(0.1, props.color)\n            : '#fff'};\n        color: ${props => props.filled\n            ? '#222'\n            : props.color\n                ? lighten(0.1, props.color)\n                : '#fff'};\n        background: ${props => props.filled\n            ? props.color\n                ? lighten(0.1, props.color)\n                : '#ccc'\n            : '#222' };;\n    }\n`;\n\nfunction swap(spells, i1, i2) {\n\n    return spells.map((spell, index) => {\n        switch (index) {\n            case i1: return {...spell, coordinates: spells[i2].coordinates};\n            case i2: return {...spell, coordinates: spells[i1].coordinates};\n            default: return spell;\n        }\n    });\n}\n\nconst ResetButtonWrapper = styled.div`\n    display: inline;\n`;\n\nconst Wrapper = styled.div`\n    font-size: 3vw;\n\n    @media screen and (min-width: 601px) {\n        font-size: 16px;\n    }\n`;\n\nconst Header = styled.header`\n    padding: 1.5em 1.5em 1em;\n    text-align: center;\n\n    h1 {\n        font-size: 2em;\n        margin: 0;\n    }\n\n    h3 {\n        font-family: 'Merriweather', serif;\n        font-size: 1em;\n        font-weight: normal;\n        line-height: 1.7;\n        color: #aaa;\n        margin: 1em auto 0;\n    }\n\n    ${CasterLabel} {\n\n        :after {\n            content: 's';\n        }\n\n        :not(:last-of-type) {\n            :after {\n                content: 's, ';\n            }\n        }\n    }\n`;\n\nconst BoardWrapper = styled.div`\n    margin: 0 auto;\n\n    @media only screen and (orientation: portrait) {\n        max-width: 95vw;\n    }\n\n    @media only screen and (orientation: landscape) {\n        max-width: 85vh;\n    }\n`;\n\nconst Board = styled.div`\n    display: grid;\n    grid-template-columns: repeat(19, 1fr);\n    grid-gap: 0.25em;\n    margin: 0.5em;\n\n    @media only screen and (min-width: 1920px) {\n        grid-gap: 0.25vw;\n    }\n`;\n\nconst Aside = styled.aside`\n    max-width: 600px;\n    margin: 0 auto;\n    color: #aaa;\n    padding: 1em 1.5em;\n    text-align: left;\n\n    @media only screen and (min-width: 600px) {\n        columns: 2 10em;\n        column-gap: 1.5em;\n    }\n\n    h2 {\n        color: #fff;\n        font-size: 1.25em;\n        margin: 0 auto 1em;\n        text-transform: uppercase;\n    }\n\n    p {\n        font-family: 'Merriweather', serif;\n        line-height: 1.7;\n        margin: 0 auto 1em;\n    }\n\n    ${CopyrightMessage} {\n        margin-top: 2em;\n    }\n\n    img {\n        width: 7em;\n        border-radius: 50%;\n    }\n`;\n\nconst Logo = styled.div`\n    margin-top: 2em;\n    text-align: center;\n    column-span: all;\n    a {\n        text-decoration: none;\n    }\n`;\n\nconst ColumnBreakerH2 = styled.h2`\n    @media only screen and (min-width: 800px) {\n        break-before: column;\n        margin-top: 0;\n    }\n`;\n\nclass App extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'spells': [],\n            'selectedId': false,\n            'highlightedCasters': [],\n            'editMode': false,\n            'timeSinceLastSave': 0\n        };\n\n        var currentKey=0;\n        for (currentKey in Spells) {\n            this.state.spells[currentKey] = Spells[currentKey];\n            //console.log(this.state.spells[currentKey]);\n        }\n\n        this.state.selectedId = false;\n    }\n\n    componentDidMount() {\n        this.timerID = setInterval(\n            () => this.tick(),\n            1000\n        );\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.timerID);\n    }\n\n    tick() {\n        if (this.state.editMode) {\n            this.setState({\n                'timeSinceLastSave': this.state['timeSinceLastSave'] + 1000\n            });\n            if (this.state['timeSinceLastSave'] > 100000) {\n                this.handleSave(this.state.spells);\n                this.setState({\n                    'timeSinceLastSave': 0\n                });\n                console.log('Saved');\n            }\n        }\n    }\n\n    handleSave(jsonData) {\n        const fileData = JSON.stringify(jsonData);\n        const blob = new Blob([fileData], {type: \"text/plain\"});\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.download = 'filename.json';\n        link.href = url;\n        link.click();\n    }\n\n    handleHighlightClick(caster) {\n        if (this.state.highlightedCasters.includes(caster)) {\n            this.setState({highlightedCasters: this.state.highlightedCasters.filter(hcaster => hcaster !== caster)});\n        } else {\n            var newCasters = this.state.highlightedCasters;\n            newCasters.push(caster);\n            this.setState({highlightedCasters: newCasters});\n        }\n    }\n\n    handleClick(i) {\n        if (this.state.editMode) {\n            if (this.state.selectedId === i) {\n                this.setState({'selectedId': false});\n                //console.log('unselected: '+i);\n            } else if (this.state.selectedId) {\n                //console.log('switching position of ' + this.state.selectedId + ' and ' + i);\n                const { spells, selectedId } = this.state;\n                this.setState({\n                    spells: swap(spells, Number(i), Number(selectedId)),\n                    selectedId: false\n                });\n            } else {\n                this.setState({selectedId: i});\n                //console.log('selected: ' + i);\n            }\n        } else {\n            /*if (this.state.highlightedCasters === this.state.spells[i].casters) {\n                this.setState({highlightedCasters: []});\n            } else {\n                this.setState({highlightedCasters: this.state.spells[i].casters});\n            }*/\n        }\n    }\n\n    getHighlightColors(casters) {\n\n        return casters.filter(value => this.state.highlightedCasters.includes(value));\n    }\n\n    renderEditUi() {\n        if (this.state.editMode) {\n\n            return (\n                <EditModeMessage>\n                    <p>EDIT MODE, AUTOSAVING</p>\n                    <StyledButton onClick={() => this.handleSave(this.state.spells)} label='Save'/>\n                </EditModeMessage>\n            );\n        }\n    }\n\n    /*renderResetButton() {\n        if (this.state.highlightedCasters.length !== 0) {\n\n            return (\n                <StyledButton onClick={() => this.setState({highlightedCasters: []})} label='Reset' />\n            );\n        }\n    }*/\n\n    renderTitleCasterLabels() {\n\n        return this.state.highlightedCasters.map(caster => <CasterLabel key={caster} caster={caster}>{caster}</CasterLabel>);\n    }\n\n    render() {\n\n        return (\n            <>\n                <Wrapper>\n                    <Header>\n                        <h1>\n                            The Spells of D&D 5e\n                        </h1>\n                        <h3>\n                            <ConicGradientMessage>Oh dang, it seems like your browser doesn't support conic gradients. This thing looks better with them. If you happen to have the latest Chrome or Safari, check this out in those instead!</ConicGradientMessage>\n                            {this.renderEditUi()}\n                        </h3>\n                        <div>\n                            <HighlightLabel>Highlight</HighlightLabel>\n                            {casters.map(caster => <StyledButton\n                                key={caster}\n                                label={caster}\n                                color={color[caster]}\n                                filled={this.state.highlightedCasters.includes(caster)}\n                                onClick={() => this.handleHighlightClick(caster)} />)}\n                        </div>\n                    </Header>\n                    <BoardWrapper>\n                        <Board>\n                            {this.state.spells.map(i => <Spell\n                                key={i.id}\n                                id={i.id}\n                                name={i.name}\n                                casters={i.casters}\n                                additionalCasters={i.additionalCasters}\n                                additionalCastersShown={ this.state.highlightedCasters.length === 0 ? i.additionalCasters : []}\n                                level={i.level}\n                                selected={this.state.selectedId === i.id ? true : false}\n                                hasOpacity={this.state.highlightedCasters.length === 0}\n                                highlightColors={this.getHighlightColors(i.casters)}\n                                coordinates={i.coordinates}\n                                onClick={() => this.handleClick(i.id)}\n                            />)}\n                        </Board>\n                    </BoardWrapper>\n                    <Aside>\n                        <h2>What is this thing?</h2>\n                        <p>Ever wondered how big of an overlap there is between the spells of different casters in DnD? Do you want to know how similar the classes are? Do you like looking at trippy abstract modern art? Then this graphic is for you.</p>\n                        <p>I took all 361 spells in the PHB, put them on a grid, colored them according to their caster classes, then meticulously arranged them by hand to form clusters as tight as possible.</p>\n                        <p>If you enjoyed this, or found it useful, you can <a href='https://ko-fi.com/B0B511KTL'>buy me a coffee on Ko-Fi!</a></p>\n                        <ColumnBreakerH2>Will you include spells from other sources (DMG, SCAG, XGE, AI)?</ColumnBreakerH2>\n                        <p>Yeah! Maybe. It's, uh, a lot of work, so it will probably take time.</p>\n                        <h2>How did you make this?</h2>\n                        <p>I used <a href=\"https://www.reddit.com/r/DnD/comments/2qs89e/5e_spell_reference_sheets_are_done/\">u/Zolo49's spell spreadsheet</a> as a resource, made a JSON file out of it, displayed them on a CSS grid, and used React to create an editing interface that I used to order the spells into these positions.</p>\n                        <Logo>\n                            <a href=\"http://github.com/dukeflipchart\">\n                                <img src={avatar} />\n                            </a>\n                        </Logo>\n                        <CopyrightMessage>\n                            This is unofficial, fan-created work. I am not affiliated with Wizards of the Coast in any way. Dungeons & Dragons, D&D, their respective logos, and all Wizards titles and characters are property of Wizards of the Coast LLC in the U.S.A. and other countries.\n                        </CopyrightMessage>\n                    </Aside>\n                </Wrapper>\n            </>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}